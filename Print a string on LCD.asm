LCD_DATA_PORT EQU	P0
RS	BIT	P2.0
EN 	BIT	P2.1

ORG 0H

MAIN:
ACALL	LCD_INIT
MOV		A,#'M'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
MOV		A,#'P'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
	
MOV		A,#'I'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
	
MOV		A,#' '
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
	
MOV		A,#'A'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
	
MOV		A,#'S'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
MOV		A,#'S'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1
	
MOV		A,#'I'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MOV		A,#'G'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MOV		A,#'N'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MOV		A,#'M'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MOV		A,#'E'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MOV		A,#'N'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MOV		A,#'T'
ACALL	LCD_WRITE_DATA
ACALL	DELAY1

MLOOP:
SJMP MLOOP

LCD_INIT:
MOV		A,#38H
ACALL 	LCD_WRITE_CMD
ACALL 	DELAY1
MOV		A,#0FH
ACALL 	LCD_WRITE_CMD
ACALL 	DELAY1
RET

LCD_WRITE_CMD:
MOV		LCD_DATA_PORT, A
CLR		RS
SETB	EN
NOP
CLR		EN
RET	
	
LCD_WRITE_DATA:
MOV		LCD_DATA_PORT, A
SETB	RS
SETB	EN
NOP
CLR		EN
RET	
			
DELAY1:
MOV		R6,#255
D1L1:
MOV		R7,#255
DJNZ	R7,$
DJNZ 	R6,D1L1
RET
END
